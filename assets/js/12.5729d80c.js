(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{61:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[s._m(0),s._v(" "),t("p",[s._v("本系统使用mysql数据库和mongodb数据库，其中mysql存放基础配置数据，mongodb存放业务数据。（后期可能会全面切换到mysql数据库，此是后话）")]),s._v(" "),t("ul",[s._m(1),s._v(" "),t("li",[s._v("mongodb(安装4.0的版本)\n"),t("ul",[s._m(2),s._v(" "),t("li",[s._v("初始化数据，由于测试数据量较大，将测试数据打包放在了百度云盘：链接："),t("a",{attrs:{href:"https://pan.baidu.com/s/1mfO7yckFL7lMb_O0BPsviw",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pan.baidu.com/s/1mfO7yckFL7lMb_O0BPsviw"),t("OutboundLink")],1),s._v("  提取码：apgd 下载后将文件解压到d:\\elm，使用如下命令导入数据："),s._m(3)])])]),s._v(" "),t("li",[s._v("测试图片数据，系统中测试数据中包含了大量的商铺，食品图片。\n"),t("ul",[t("li",[s._v("由于数据量较大， 放在了百度云盘，链接："),t("a",{attrs:{href:"https://pan.baidu.com/s/1rvZDspoapWa6rEq2D_5kzw",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pan.baidu.com/s/1rvZDspoapWa6rEq2D_5kzw"),t("OutboundLink")],1),s._v(" 提取码：urzw ，")]),s._v(" "),t("li",[s._v("将图片存放到t_sys_cfg表中system.file.upload.path配置的目录下")])])])])])},[function(){var s=this.$createElement,a=this._self._c||s;return a("h1",{attrs:{id:"初始化数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化数据","aria-hidden":"true"}},[this._v("#")]),this._v(" 初始化数据")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("li",[s._v("mysql(安装5.5以上的版本)\n"),t("ul",[t("li",[s._v("创建数据库"),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" waimai "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),s._v(" utf8 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8_general_ci"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'waimai'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'waimai123'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" waimai"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'waimai'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nflush "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])]),s._v(" "),t("li",[s._v("数据初始化，无需手动初始化数据，flash-waimai-api启动的时候会根据配置自动导入初始化数据(import.sql)，第二次启动的时候如果不需要重新初始化语句，则可以注释掉配置"),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("spring.jpa.hibernate.ddl-auto")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("create")]),s._v("\n")])])])])])])},function(){var s=this.$createElement,a=this._self._c||s;return a("li",[this._v("创建mongodb库"),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("user")]),this._v(" flash"),a("span",{pre:!0,attrs:{class:"token operator"}},[this._v("-")]),this._v("waimai\n")])])])])},function(){var s=this.$createElement,a=this._self._c||s;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("mongorestore.exe -d flash-waimai d:\\\\elm\n")])])])}],!1,null,null,null);a.default=r.exports}}]);